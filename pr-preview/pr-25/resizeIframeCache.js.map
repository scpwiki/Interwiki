{
  "version": 3,
  "sources": ["../js/resizeIframeCache.js"],
  "sourcesContent": ["var CACHE_NAME = \"wd-resize-cache-v1\";\nvar RESIZE_IFRAME_PATH = \"/common--javascript/resize-iframe.html\";\n\nself.addEventListener(\"install\", function (event) {\n  var site = new URL(location).searchParams.get(\"site\");\n  event.waitUntil(\n    caches.open(CACHE_NAME).then(function (cache) {\n      return fetch(site + RESIZE_IFRAME_PATH).then(function (response) {\n        return cache.put(RESIZE_IFRAME_PATH, response.clone());\n      });\n    })\n  );\n});\n\nself.addEventListener(\"activate\", function () {\n  return self.clients.claim();\n});\n\nself.addEventListener(\"fetch\", function (event) {\n  var url = new URL(event.request.url);\n  var site = new URL(location).searchParams.get(\"site\");\n\n  // Detect spoofed iframe URL\n  if (\n    url.origin === location.origin &&\n    url.pathname.indexOf(\"/.local/\") !== -1\n  ) {\n    event.respondWith(\n      caches.open(CACHE_NAME).then(function (cache) {\n        return cache.match(RESIZE_IFRAME_PATH).then(function (cachedResponse) {\n          if (cachedResponse) {\n            return cachedResponse;\n          }\n\n          var modifiedRequest = new Request(\n            site + RESIZE_IFRAME_PATH + url.hash,\n            event.request\n          );\n\n          return fetch(modifiedRequest).then(function (response) {\n            cache.put(RESIZE_IFRAME_PATH, response.clone());\n            return response;\n          });\n        });\n      })\n    );\n  }\n});\n"],
  "mappings": "YAAA,IAAIA,EAAa,qBACbC,EAAqB,yCAEzB,KAAK,iBAAiB,UAAW,SAAUC,EAAO,CAChD,IAAIC,EAAO,IAAI,IAAI,QAAQ,EAAE,aAAa,IAAI,MAAM,EACpDD,EAAM,UACJ,OAAO,KAAKF,CAAU,EAAE,KAAK,SAAUI,EAAO,CAC5C,OAAO,MAAMD,EAAOF,CAAkB,EAAE,KAAK,SAAUI,EAAU,CAC/D,OAAOD,EAAM,IAAIH,EAAoBI,EAAS,MAAM,CAAC,CACvD,CAAC,CACH,CAAC,CACH,CACF,CAAC,EAED,KAAK,iBAAiB,WAAY,UAAY,CAC5C,OAAO,KAAK,QAAQ,MAAM,CAC5B,CAAC,EAED,KAAK,iBAAiB,QAAS,SAAUH,EAAO,CAC9C,IAAII,EAAM,IAAI,IAAIJ,EAAM,QAAQ,GAAG,EAC/BC,EAAO,IAAI,IAAI,QAAQ,EAAE,aAAa,IAAI,MAAM,EAIlDG,EAAI,SAAW,SAAS,QACxBA,EAAI,SAAS,QAAQ,UAAU,IAAM,IAErCJ,EAAM,YACJ,OAAO,KAAKF,CAAU,EAAE,KAAK,SAAUI,EAAO,CAC5C,OAAOA,EAAM,MAAMH,CAAkB,EAAE,KAAK,SAAUM,EAAgB,CACpE,GAAIA,EACF,OAAOA,EAGT,IAAIC,EAAkB,IAAI,QACxBL,EAAOF,EAAqBK,EAAI,KAChCJ,EAAM,OACR,EAEA,OAAO,MAAMM,CAAe,EAAE,KAAK,SAAUH,EAAU,CACrD,OAAAD,EAAM,IAAIH,EAAoBI,EAAS,MAAM,CAAC,EACvCA,CACT,CAAC,CACH,CAAC,CACH,CAAC,CACH,CAEJ,CAAC",
  "names": ["CACHE_NAME", "RESIZE_IFRAME_PATH", "event", "site", "cache", "response", "url", "cachedResponse", "modifiedRequest"]
}
